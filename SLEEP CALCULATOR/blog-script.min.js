document.addEventListener("DOMContentLoaded", function () { initMasonryLayout(), initMobileMenu(), initSidebarToggle(), initSearchFunctionality(), window.addEventListener("resize", handleResize) }); function initMasonryLayout() { const e = document.querySelector(".masonry-grid"); if (!e) return; const t = new ResizeObserver(e => { clearTimeout(window.masonryTimeout), window.masonryTimeout = setTimeout(() => { adjustMasonryLayout() }, 100) }); document.querySelectorAll(".blog-card").forEach(e => { t.observe(e) }), adjustMasonryLayout(), document.querySelectorAll(".blog-image img").forEach(e => { e.complete ? adjustMasonryLayout() : e.addEventListener("load", adjustMasonryLayout) }) } function adjustMasonryLayout() { const e = document.querySelector(".masonry-grid"); e && (e.style.opacity = "0.99", setTimeout(() => { e.style.opacity = "1" }, 50), document.querySelectorAll(".blog-card").forEach(e => { e.style.visibility = "visible" })) } function initMobileMenu() { const e = document.getElementById("hamburger"), t = document.getElementById("navMenu"); e && t && e.addEventListener("click", function () { t.classList.toggle("active") }) } function initSidebarToggle() { const e = document.querySelector(".sidebar-toggle"), t = document.querySelector(".sidebar-content"); e && t && e.addEventListener("click", function () { t.classList.toggle("active") }) } function initSearchFunctionality() { const e = document.getElementById("blog-search"), t = document.getElementById("search-button"), n = document.querySelectorAll(".blog-card"); if (e && t && n.length > 0) { t.addEventListener("click", function () { i() }), e.addEventListener("keyup", function (e) { "Enter" === e.key && i() }); function i() { const t = e.value.toLowerCase().trim(); "" === t ? n.forEach(e => { e.style.display = "inline-block" }) : (n.forEach(e => { const n = e.querySelector("h2").textContent.toLowerCase(), i = e.querySelector("p").textContent.toLowerCase(); n.includes(t) || i.includes(t) ? e.style.display = "inline-block" : e.style.display = "none" }), setTimeout(adjustMasonryLayout, 200)) } } } function handleResize() { adjustMasonryLayout(); const e = document.getElementById("navMenu"); window.innerWidth >= 768 && e && e.classList.remove("active"); const t = document.querySelector(".sidebar-content"); window.innerWidth >= 992 && t ? t.classList.add("active") : window.innerWidth < 992 && t && t.classList.remove("active") }